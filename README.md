# Map/Server Restart
## Description
A simple plugin for SourceMod that restarts the map or server (if configured properly) after the time limit is reached and the server is reported as empty (not including bots).

From the testing I've performed, the plugin will still trigger even when the server is hibernating.

```
x.x.x.x:27005:  password failed.
Client "[LBG] Christian" connected (x.x.x.x:27005).
Server waking up from hibernation
Game will not start until both teams have players.
Game will not start until both teams have players.
Going to intermission...
Dropped [LBG] Christian from server (Disconnect by user.)
Server is hibernating
L 06/13/2022 - 00:01:41: [map_restart.smx] [MR] Found time to trigger map/server restart.
---- Host_Changelevel ----
find L 06/13/2022 - 00:01:42: -------- Mapchange to de_dust2 --------
ConVarRef room_type doesn't point to an existing ConVar
```

## ConVars
Here is a list of the plugin's ConVars along with their descriptions and default values.

```
// This file was auto-generated by SourceMod (v1.10.0.6537)
// ConVars for plugin "map_restart.smx"


// How often to check if we need to restart the map in seconds.
// -
// Default: "10.0"
sm_mr_check_interval "10.0"

// Whether to log when a map/server restart is triggered.
// -
// Default: "1"
// Minimum: "0.000000"
// Maximum: "1.000000"
sm_mr_log "1"

// Whether to restart map when the server is reported as empty.
// -
// Default: "1"
// Minimum: "0.000000"
// Maximum: "1.000000"
sm_mr_restart_on_empty "1"

// 0 = uses 'changelevel' command. 1 = executes 'quit' command.
// -
// Default: "0"
// Minimum: "0.000000"
// Maximum: "1.000000"
sm_mr_restart_type "0"
```

## Credits
* [Christian Deacon](https://github.com/gamemann)